# AI待办助理微信小程序

## 项目简介

AI待办助理是一个微信小程序，作为用户的智能助理来帮助用户自动管理日常待办事项。小程序主要作为入口，通过webview加载web端已实现的业务逻辑。

## 功能特性

- ✅ 用户授权登录，获取头像和昵称
- ✅ 智能跳转到主功能页面
- ✅ 内嵌webview加载 https://todo.chenrf.top
- ✅ 完善的错误处理和重试机制
- ✅ 用户信息面板和重新授权功能
- ✅ 分享功能支持

## 项目结构

```
aitodo-miniapp/
├── app.js                 # 应用入口文件
├── app.json              # 应用配置文件
├── app.wxss              # 全局样式文件
├── project.config.json   # 项目配置文件
├── sitemap.json          # 搜索优化配置
├── pages/
│   ├── auth/             # 授权页面
│   │   ├── auth.js       # 授权逻辑
│   │   ├── auth.wxml     # 授权结构
│   │   └── auth.wxss     # 授权样式
│   └── index/            # 首页
│       ├── index.js      # 首页逻辑
│       ├── index.wxml    # 首页结构
│       └── index.wxss    # 首页样式
└── tools/                # 开发工具
```

## 配置说明

### 1. 微信小程序配置

在微信公众平台配置以下内容：

1. **业务域名配置**：
   - 在小程序管理后台的 "开发" -> "开发管理" -> "开发设置" -> "业务域名" 中添加：
   - `https://todo.chenrf.top`

2. **AppID配置**：
   - 修改 `project.config.json` 中的 `appid` 字段为你的小程序AppID

### 2. 本地开发

1. 使用微信开发者工具打开本项目
2. 确保已配置正确的AppID
3. 启动调试模式进行开发测试

### 3. 发布流程

1. 在微信开发者工具中点击 "上传" 按钮
2. 填写版本号和项目备注
3. 在微信公众平台提交审核
4. 审核通过后发布上线

## 技术特点

- **简洁安全**：代码结构清晰，遵循微信小程序最佳实践
- **完善日志**：添加了详细的控制台日志，便于调试和问题排查
- **用户体验**：
  - 流畅的授权流程
  - 优雅的加载状态展示
  - 完善的错误处理和重试机制
  - 直观的用户信息管理面板

## 页面说明

### 授权页面 (pages/auth/)
- 获取用户微信头像和昵称
- 展示应用特色功能
- 授权成功后自动跳转到首页

### 首页 (pages/index/)
- 顶部显示用户信息
- 内嵌webview加载待办事项网站
- 支持页面刷新和重新授权
- 完善的加载状态和错误处理

## 开发说明

### 日志系统
项目中使用了统一的日志格式：
```javascript
console.log('[页面名] 操作描述', 数据)
console.error('[页面名] 错误描述', 错误信息)
```

### 错误处理
- webview加载失败时显示错误页面
- 提供重试机制
- 网络超时配置

### 用户体验优化
- 加载动画效果
- 页面过渡动画
- 交互反馈提示

## 注意事项

1. **业务域名**：确保 `https://todo.chenrf.top` 已在微信公众平台配置为业务域名
2. **网络安全**：webview只能加载HTTPS协议的网页
3. **用户授权**：遵循微信小程序用户授权规范，不强制授权
4. **调试模式**：生产环境需要关闭debug模式（app.json中debug字段）

## 版本信息

- 微信小程序基础库版本：2.19.4
- 开发时间：2025-01-10
- 当前版本：1.0.0

## 联系方式

如有问题或建议，请联系开发团队。 